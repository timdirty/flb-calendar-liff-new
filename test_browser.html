<!DOCTYPE html>
<html>
<head>
    <title>æ¸¬è©¦å‰ç«¯äº‹ä»¶æ¸²æŸ“</title>
</head>
<body>
    <h1>æ¸¬è©¦å‰ç«¯äº‹ä»¶æ¸²æŸ“</h1>
    <div id="test-results"></div>
    
    <script>
        async function testFrontend() {
            const results = document.getElementById('test-results');
            
            try {
                // æ¸¬è©¦ API
                const response = await fetch('/api/events');
                const data = await response.json();
                
                results.innerHTML += `<p>âœ… API è«‹æ±‚æˆåŠŸï¼Œè¿”å› ${data.data.length} å€‹äº‹ä»¶</p>`;
                
                // æª¢æŸ¥ BELLA å’Œ AGNES çš„äº‹ä»¶
                const bellaEvents = data.data.filter(e => e && e.instructor === 'BELLA');
                const agnesEvents = data.data.filter(e => e && e.instructor === 'AGNES');
                
                results.innerHTML += `<p>ğŸ“Š BELLA äº‹ä»¶æ•¸: ${bellaEvents.length}</p>`;
                results.innerHTML += `<p>ğŸ“Š AGNES äº‹ä»¶æ•¸: ${agnesEvents.length}</p>`;
                
                // æ¸¬è©¦ createEventCard å‡½æ•¸
                if (typeof createEventCard === 'function') {
                    results.innerHTML += `<p>âœ… createEventCard å‡½æ•¸å­˜åœ¨</p>`;
                    
                    // æ¸¬è©¦ BELLA äº‹ä»¶
                    if (bellaEvents.length > 0) {
                        try {
                            const bellaCard = createEventCard(bellaEvents[0]);
                            results.innerHTML += `<p>âœ… BELLA äº‹ä»¶å¡ç‰‡ç”ŸæˆæˆåŠŸ</p>`;
                            results.innerHTML += `<div style="border: 1px solid #ccc; padding: 10px; margin: 10px 0;">${bellaCard}</div>`;
                        } catch (error) {
                            results.innerHTML += `<p>âŒ BELLA äº‹ä»¶å¡ç‰‡ç”Ÿæˆå¤±æ•—: ${error.message}</p>`;
                        }
                    }
                    
                    // æ¸¬è©¦ AGNES äº‹ä»¶
                    if (agnesEvents.length > 0) {
                        try {
                            const agnesCard = createEventCard(agnesEvents[0]);
                            results.innerHTML += `<p>âœ… AGNES äº‹ä»¶å¡ç‰‡ç”ŸæˆæˆåŠŸ</p>`;
                            results.innerHTML += `<div style="border: 1px solid #ccc; padding: 10px; margin: 10px 0;">${agnesCard}</div>`;
                        } catch (error) {
                            results.innerHTML += `<p>âŒ AGNES äº‹ä»¶å¡ç‰‡ç”Ÿæˆå¤±æ•—: ${error.message}</p>`;
                        }
                    }
                } else {
                    results.innerHTML += `<p>âŒ createEventCard å‡½æ•¸ä¸å­˜åœ¨</p>`;
                }
                
            } catch (error) {
                results.innerHTML += `<p>âŒ æ¸¬è©¦å¤±æ•—: ${error.message}</p>`;
            }
        }
        
        // è¼‰å…¥å®Œæˆå¾ŒåŸ·è¡Œæ¸¬è©¦
        window.addEventListener('load', testFrontend);
    </script>
    
    <!-- è¼‰å…¥ä¸»é é¢çš„ JavaScript -->
    <script src="/perfect-calendar.html"></script>
</body>
</html>
