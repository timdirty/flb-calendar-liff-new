# 講師行事曆檢視 - 本地測試版

## 📋 概述

這是一套本地測試版本，移除了 LIFF 認證功能，方便在本地端進行徹底的測試和調試。

## 📁 文件說明

### 1. `test-local.html` - 基礎測試版
- 簡化版本，包含基本的篩選和顯示功能
- 適合快速測試核心邏輯
- 包含調試日誌和狀態監控

### 2. `test-local-full.html` - 完整測試版
- 包含原始系統的核心邏輯
- 模擬完整的篩選流程
- 包含所有原始函數的本地版本

## 🚀 使用方法

### 方法一：直接開啟 HTML 文件
1. 在瀏覽器中開啟 `test-local.html` 或 `test-local-full.html`
2. 點擊「載入模擬數據」按鈕
3. 使用控制面板進行測試

### 方法二：使用本地伺服器
```bash
# 使用 Python 3
python -m http.server 8000

# 使用 Node.js
npx http-server

# 使用 PHP
php -S localhost:8000
```

然後在瀏覽器中訪問 `http://localhost:8000/test-local.html`

## 🧪 測試功能

### 基礎測試功能
- ✅ 載入模擬事件數據
- ✅ 講師篩選功能
- ✅ 視圖切換（今日/本週/本月/全部）
- ✅ 時段篩選
- ✅ 日期篩選
- ✅ 排序功能
- ✅ 實時調試日誌

### 調試功能
- 🔍 詳細的調試日誌
- 📊 實時狀態監控
- 🎯 篩選過程追蹤
- ⚠️ 錯誤和警告提示

## 📊 模擬數據

測試版本包含以下模擬數據：

### 講師列表
- TIM
- ALICE  
- BOB

### 事件類型
- SPIKE 課程
- ESM 課程
- SPM 課程

### 時間範圍
- 2025年9月19日 - 9月30日
- 包含不同時段的課程

## 🔧 調試指南

### 1. 檢查講師選擇問題
1. 載入模擬數據
2. 選擇講師 "TIM"
3. 查看調試日誌中的講師篩選過程
4. 確認事件數量是否正確

### 2. 檢查視圖切換問題
1. 選擇不同視圖（今日/本週/本月/全部）
2. 查看調試日誌中的視圖篩選過程
3. 確認日期範圍計算是否正確

### 3. 檢查篩選邏輯問題
1. 使用不同的篩選組合
2. 查看 `getFilteredEvents` 和 `getViewFilteredEvents` 的日誌
3. 確認篩選結果是否正確

## 🐛 常見問題排查

### 問題1：講師選擇後事件數量不正確
**檢查點：**
- 調試日誌中是否有 `🔄 填充講師下拉選單` 的日誌
- 講師選擇是否在 `populateInstructorDropdown` 後被清空
- `allInstructors` 數組是否包含選擇的講師

### 問題2：視圖切換不生效
**檢查點：**
- `currentView` 變量是否正確更新
- `getViewFilteredEvents` 函數是否被正確調用
- 日期範圍計算是否正確

### 問題3：篩選結果不正確
**檢查點：**
- `getFilteredEvents` 函數的篩選條件
- 事件數據的格式是否正確
- 日期比較邏輯是否正確

## 📝 日誌說明

### 日誌類型
- `info`: 一般信息
- `success`: 成功操作
- `warning`: 警告信息
- `error`: 錯誤信息

### 關鍵日誌標記
- `🔍`: 篩選過程
- `🔄`: 狀態變更
- `📅`: 事件處理
- `🎨`: 渲染過程
- `👨‍🏫`: 講師相關
- `✅`: 成功完成
- `⚠️`: 警告提示

## 🎯 測試建議

### 1. 基礎功能測試
1. 載入模擬數據
2. 測試所有篩選器
3. 測試所有視圖切換
4. 檢查統計數據是否正確

### 2. 邊界條件測試
1. 選擇不存在的講師
2. 選擇沒有事件的日期
3. 測試空篩選條件
4. 測試極端日期範圍

### 3. 性能測試
1. 大量事件數據
2. 複雜篩選條件
3. 頻繁視圖切換
4. 連續操作測試

## 🔄 與原始系統的對應關係

| 原始函數 | 本地測試版本 | 說明 |
|---------|-------------|------|
| `loadAllEvents` | `loadMockData` | 載入模擬數據 |
| `getFilteredEvents` | `getFilteredEvents` | 通用篩選函數 |
| `getViewFilteredEvents` | `getViewFilteredEvents` | 視圖篩選函數 |
| `renderEvents` | `renderEvents` | 渲染事件 |
| `updateStats` | `updateStats` | 更新統計 |
| `switchView` | `switchView` | 切換視圖 |
| `populateInstructorDropdown` | `populateInstructorDropdown` | 填充講師下拉選單 |

## 📞 支援

如果在測試過程中遇到問題，請：

1. 查看調試日誌中的錯誤信息
2. 檢查瀏覽器控制台是否有 JavaScript 錯誤
3. 確認模擬數據格式是否正確
4. 檢查函數調用順序是否正確

---

**注意：** 這是測試版本，僅用於本地調試，不包含 LIFF 認證功能。正式版本請使用 `perfect-calendar.html`。
